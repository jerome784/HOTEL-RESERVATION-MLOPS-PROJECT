<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <title>Hotel Reservation Prediction</title>
</head>

<body>
  <main class="app">
    <section class="panel" aria-label="Hotel Reservation Prediction Form">
      <header class="panel__header">
        <h1 class="panel__title">Hotel Reservation Prediction</h1>
        <p class="panel__subtitle">Enter booking details to predict cancellation status.</p>
      </header>

      <form class="form" method="POST" autocomplete="off" novalidate>
        <div class="form__grid">

          <div class="control">
            <label class="control__label" for="lead_time">Lead Time</label>
            <input class="control__input" type="number" id="lead_time" name="lead_time" min="0" required placeholder="e.g., 45">
          </div>

          <div class="control">
            <label class="control__label" for="no_of_special_request">No. of Special Requests</label>
            <input class="control__input" type="number" id="no_of_special_request" name="no_of_special_request" min="0" required placeholder="e.g., 1">
          </div>

          <div class="control">
            <label class="control__label" for="avg_price_per_room">Avg. Price per Room</label>
            <input class="control__input" type="number" id="avg_price_per_room" name="avg_price_per_room" min="0" step="0.01" required placeholder="e.g., 125.50">
          </div>

          <div class="control">
            <label class="control__label" for="arrival_month">Arrival Month</label>
            <select class="control__select" id="arrival_month" name="arrival_month" required>
              <option value="" selected disabled>Select month</option>
              <option value="1">January</option>
              <option value="2">February</option>
              <option value="3">March</option>
              <option value="4">April</option>
              <option value="5">May</option>
              <option value="6">June</option>
              <option value="7">July</option>
              <option value="8">August</option>
              <option value="9">September</option>
              <option value="10">October</option>
              <option value="11">November</option>
              <option value="12">December</option>
            </select>
          </div>

          <div class="control">
            <label class="control__label" for="arrival_date">Arrival Date</label>
            <select class="control__select" id="arrival_date" name="arrival_date" required>
              <option value="" selected disabled>Select date</option>
              {% for d in range(1, 32) %}
                <option value="{{ d }}">{{ d }}</option>
              {% endfor %}
            </select>
          </div>

          <div class="control">
            <label class="control__label" for="market_segment_type">Market Segment Type</label>
            <select class="control__select" id="market_segment_type" name="market_segment_type" required>
              <option value="" selected disabled>Select segment</option>
              <option value="0">Aviation</option>
              <option value="1">Complimentary</option>
              <option value="2">Corporate</option>
              <option value="3">Offline</option>
              <option value="4">Online</option>
            </select>
          </div>

          <div class="control">
            <label class="control__label" for="no_of_week_nights">No. of Week Nights</label>
            <input class="control__input" type="number" id="no_of_week_nights" name="no_of_week_nights" min="0" required placeholder="e.g., 2">
          </div>

          <div class="control">
            <label class="control__label" for="no_of_weekend_nights">No. of Weekend Nights</label>
            <input class="control__input" type="number" id="no_of_weekend_nights" name="no_of_weekend_nights" min="0" required placeholder="e.g., 1">
          </div>

          <div class="control">
            <label class="control__label" for="type_of_meal_plan">Type of Meal Plan</label>
            <select class="control__select" id="type_of_meal_plan" name="type_of_meal_plan" required>
              <option value="" selected disabled>Select meal plan</option>
              <option value="0">Meal Plan 1</option>
              <option value="1">Meal Plan 2</option>
              <option value="2">Meal Plan 3</option>
              <option value="3">Not Selected</option>
            </select>
          </div>

          <div class="control">
            <label class="control__label" for="room_type_reserved">Room Type Reserved</label>
            <select class="control__select" id="room_type_reserved" name="room_type_reserved" required>
              <option value="" selected disabled>Select room type</option>
              <option value="0">Room Type 1</option>
              <option value="1">Room Type 2</option>
              <option value="2">Room Type 3</option>
              <option value="3">Room Type 4</option>
              <option value="4">Room Type 5</option>
              <option value="5">Room Type 6</option>
              <option value="6">Room Type 7</option>
            </select>
          </div>

        </div>

        <div class="form__actions">
          <button class="btn btn--primary" type="submit">Predict</button>
          <button class="btn btn--secondary" type="reset">Reset</button>
        </div>
      </form>

      {% if prediction is not none %}
      <section class="result" aria-live="polite">
        {% if prediction == 0 or prediction == "Canceled" %}
          <div class="alert alert--danger">
            <h2 class="alert__title">Prediction: Cancellation Likely</h2>
            <p class="alert__text">The customer is likely to cancel the reservation.</p>
          </div>
        {% elif prediction == 1 or prediction == "Not_Canceled" %}
          <div class="alert alert--success">
            <h2 class="alert__title">Prediction: Not Likely to Cancel</h2>
            <p class="alert__text">The customer is likely to keep the reservation.</p>
          </div>
        {% else %}
          <div class="alert alert--info">
            <h2 class="alert__title">Prediction</h2>
            <p class="alert__text">{{ prediction }}</p>
          </div>
        {% endif %}
      </section>
      {% endif %}

      <footer class="panel__footer">
        <small class="panel__footnote">Built with Flask + LightGBM</small>
      </footer>
    </section>
  </main>
</body>
</html>